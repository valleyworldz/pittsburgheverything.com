"use strict";(()=>{var e={};e.id=854,e.ids=[854],e.modules={399:e=>{e.exports=require("next/dist/compiled/next-server/app-page.runtime.prod.js")},517:e=>{e.exports=require("next/dist/compiled/next-server/app-route.runtime.prod.js")},2048:e=>{e.exports=require("fs")},5315:e=>{e.exports=require("path")},7808:(e,r,t)=>{t.r(r),t.d(r,{originalPathname:()=>m,patchFetch:()=>f,requestAsyncStorage:()=>l,routeModule:()=>g,serverHooks:()=>h,staticGenerationAsyncStorage:()=>d});var a={};t.r(a),t.d(a,{GET:()=>p});var s=t(9303),n=t(8716),o=t(670),i=t(7070),u=t(2048);let c=(0,t(5315).join)(process.cwd(),"data","restaurants.json");async function p(e){try{let{searchParams:r}=new URL(e.url),t=r.get("cuisine"),a=r.get("neighborhood"),s=r.get("priceRange"),n=r.get("rating"),o=r.get("limit"),p=r.get("sort"),g=function(){try{let e=(0,u.readFileSync)(c,"utf8");return JSON.parse(e)}catch(e){return console.error("Error reading restaurants:",e),[]}}();if(t&&(g=g.filter(e=>e.cuisine.toLowerCase()===t.toLowerCase())),a&&(g=g.filter(e=>e.neighborhood.toLowerCase()===a.toLowerCase())),s&&(g=g.filter(e=>e.priceRange===s)),n){let e=parseFloat(n);isNaN(e)||(g=g.filter(r=>r.rating>=e))}if(p)switch(p){case"rating":g.sort((e,r)=>r.rating-e.rating);break;case"name":g.sort((e,r)=>e.name.localeCompare(r.name));break;case"price-low":g.sort((e,r)=>e.priceRange.length-r.priceRange.length);break;case"price-high":g.sort((e,r)=>r.priceRange.length-e.priceRange.length);break;default:g.sort((e,r)=>r.rating-e.rating)}else g.sort((e,r)=>r.rating-e.rating);if(o){let e=parseInt(o,10);!isNaN(e)&&e>0&&(g=g.slice(0,e))}return i.NextResponse.json({success:!0,data:g,message:`${g.length} restaurants found`})}catch(e){return console.error("Error fetching restaurants:",e),i.NextResponse.json({success:!1,error:"Internal server error",message:"Failed to fetch restaurants"},{status:500})}}let g=new s.AppRouteRouteModule({definition:{kind:n.x.APP_ROUTE,page:"/api/restaurants/route",pathname:"/api/restaurants",filename:"route",bundlePath:"app/api/restaurants/route"},resolvedPagePath:"/Users/valleytainmentgmail.com/Desktop/PittsburghEverything.com/app/api/restaurants/route.ts",nextConfigOutput:"",userland:a}),{requestAsyncStorage:l,staticGenerationAsyncStorage:d,serverHooks:h}=g,m="/api/restaurants/route";function f(){return(0,o.patchFetch)({serverHooks:h,staticGenerationAsyncStorage:d})}}};var r=require("../../../webpack-runtime.js");r.C(e);var t=e=>r(r.s=e),a=r.X(0,[948,972],()=>t(7808));module.exports=a})();